import{s as g,n as p,o as x}from"../chunks/scheduler.aZHIKDCl.js";import{S as b,i as y,e as _,c as v,d as w,g as m,o as d,j as k,u as L,v as S,w as $,t as B,a as j,x as E}from"../chunks/index.CHnQ5GUD.js";import{m as n,B as F,C as M,P as z}from"../chunks/global.B7OcXdwR.js";const O=!0,V=Object.freeze(Object.defineProperty({__proto__:null,prerender:O},Symbol.toStringTag,{value:"Module"}));function R(c){let t;return{c(){t=_("div"),this.h()},l(o){t=v(o,"DIV",{id:!0,class:!0}),w(t).forEach(m),this.h()},h(){d(t,"id","map"),d(t,"class","svelte-46fj0w")},m(o,e){k(o,t,e)},p,i:p,o:p,d(o){o&&m(t)}}}let A="/uoft-aspo/toronto.pmtiles";const f=50;let r="#1E3765",l="#AB1368";function T(c){let t,o=new n.ScaleControl({maxWidth:100,unit:"metric"});const e=[[-79.7,43.6],[-79.15,43.74]],i=-17.1;return x(async()=>{let h=new z;n.addProtocol("pmtiles",h.tile),t=new n.Map({container:"map",style:{version:8,name:"Empty",glyphs:"https://schoolofcities.github.io/fonts/fonts/{fontstack}/{range}.pbf",sources:{},layers:[{id:"background",type:"background",paint:{"background-color":"rgba(0,0,0,0)"}}]},bounds:e,fitBoundsOptions:{padding:f,bearing:i},maxPitch:0,maxZoom:11,projection:"globe",scrollZoom:!1,dragPan:!1,dragRotate:!1,doubleClickZoom:!1,touchZoomRotate:!1,keyboard:!1,interactive:!1,attributionControl:!1});const C=['<a href="https://openstreetmap.org" target= "_blank">Map data: OpenStreetMap</a>'].join(", ");t.addControl(new n.AttributionControl({compact:!1}),"bottom-right"),t.addControl(o,"bottom-left"),t.on("load",()=>{t.addSource("protomaps",{type:"vector",url:"pmtiles://"+A,attribution:C,attributionControl:!1}),F.forEach(a=>{t.addLayer(a)}),t.addSource("campus-locations",{type:"geojson",data:M}),t.addLayer({id:"campus-points",type:"circle",source:"campus-locations",paint:{"circle-radius":8,"circle-color":r}}),t.addLayer({id:"campus-points-label",type:"symbol",source:"campus-locations",minzoom:8,layout:{"text-field":["get","Campus"],"text-size":18,"text-anchor":"top","text-offset":[0,-1.7],"text-font":["TradeGothic LT Bold"]},paint:{"text-color":"#1E3765","text-halo-color":"#FFFFFF","text-halo-width":2}});const u=new n.Popup({closeButton:!1,closeOnClick:!1});t.on("mouseenter","campus-points",a=>{t.getCanvas().style.cursor="pointer",a.features[0].geometry.coordinates.slice();const{Campus:s,Address:P}=a.features[0].properties;t.setPaintProperty("campus-points","circle-color",["match",["get","Campus"],s,l,r]),t.setPaintProperty("campus-points-label","text-color",["match",["get","Campus"],s,l,r])}),t.on("mouseleave","campus-points",()=>{t.getCanvas().style.cursor="",u.remove(),t.setPaintProperty("campus-points","circle-color",r),t.setPaintProperty("campus-points-label","text-color",r)}),t.on("click","campus-points",a=>{const{URL:s}=a.features[0].properties;s&&window.open(s,"_blank")}),t.on("mouseenter","campus-points-label",a=>{t.getCanvas().style.cursor="pointer",a.features[0].geometry.coordinates.slice();const{Campus:s,Address:P}=a.features[0].properties;t.setPaintProperty("campus-points","circle-color",["match",["get","Campus"],s,l,r]),t.setPaintProperty("campus-points-label","text-color",["match",["get","Campus"],s,l,r])}),t.on("mouseleave","campus-points-label",()=>{t.getCanvas().style.cursor="",u.remove(),t.setPaintProperty("campus-points","circle-color",r),t.setPaintProperty("campus-points-label","text-color",r)}),t.on("click","campus-points-label",a=>{const{URL:s}=a.features[0].properties;s&&window.open(s,"_blank")})}),window.addEventListener("resize",()=>{t.resize(),t.fitBounds(e,{padding:f,duration:0,bearing:i})})}),[]}class Z extends b{constructor(t){super(),y(this,t,T,R,g,{})}}function U(c){let t,o;return t=new Z({}),{c(){L(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,i){$(t,e,i),o=!0},p,i(e){o||(B(t.$$.fragment,e),o=!0)},o(e){j(t.$$.fragment,e),o=!1},d(e){E(t,e)}}}class W extends b{constructor(t){super(),y(this,t,null,U,g,{})}}export{W as component,V as universal};
