import{s as Ke,n as Ae,o as $e,x as Pe,b as et}from"../chunks/scheduler.aZHIKDCl.js";import{S as Qe,i as Ze,e as $,c as Q,d as oe,g as V,o as ae,j as ye,s as ce,u as tt,y as Fe,h as ue,v as it,k as O,w as rt,t as at,a as ot,z as je,x as nt,b as De,f as Le,A as Je,l as Re}from"../chunks/index.CHnQ5GUD.js";import{c as lt,g as st,m as Te,C as Me,P as pt}from"../chunks/global.CV5m7Lnm.js";import{w as Ye}from"../chunks/index.Haq8omwQ.js";function Ee(_){return(_==null?void 0:_.length)!==void 0?_:Array.from(_)}const dt=!0,Et=Object.freeze(Object.defineProperty({__proto__:null,prerender:dt},Symbol.toStringTag,{value:"Module"}));var Xe={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(_,r){(function(s,o){_.exports=o()})(lt,function s(){var o=typeof self<"u"?self:typeof window<"u"?window:o!==void 0?o:{},c=!o.document&&!!o.postMessage,z=o.IS_PAPA_WORKER||!1,f={},E=0,l={parse:function(t,e){var i=(e=e||{}).dynamicTyping||!1;if(D(i)&&(e.dynamicTypingFunction=i,i={}),e.dynamicTyping=i,e.transform=!!D(e.transform)&&e.transform,e.worker&&l.WORKERS_SUPPORTED){var n=function(){if(!l.WORKERS_SUPPORTED)return!1;var u=(G=o.URL||o.webkitURL||null,M=s.toString(),l.BLOB_URL||(l.BLOB_URL=G.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",M,")();"],{type:"text/javascript"})))),x=new o.Worker(u),G,M;return x.onmessage=S,x.id=E++,f[x.id]=x}();return n.userStep=e.step,n.userChunk=e.chunk,n.userComplete=e.complete,n.userError=e.error,e.step=D(e.step),e.chunk=D(e.chunk),e.complete=D(e.complete),e.error=D(e.error),delete e.worker,void n.postMessage({input:t,config:e,workerId:n.id})}var a=null;return l.NODE_STREAM_INPUT,typeof t=="string"?(t=function(u){return u.charCodeAt(0)===65279?u.slice(1):u}(t),a=e.download?new v(e):new b(e)):t.readable===!0&&D(t.read)&&D(t.on)?a=new k(e):(o.File&&t instanceof File||t instanceof Object)&&(a=new y(e)),a.stream(t)},unparse:function(t,e){var i=!1,n=!0,a=",",u=`\r
`,x='"',G=x+x,M=!1,p=null,L=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||l.BAD_DELIMITERS.filter(function(d){return e.delimiter.indexOf(d)!==-1}).length||(a=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(i=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(M=e.skipEmptyLines),typeof e.newline=="string"&&(u=e.newline),typeof e.quoteChar=="string"&&(x=e.quoteChar),typeof e.header=="boolean"&&(n=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");p=e.columns}e.escapeChar!==void 0&&(G=e.escapeChar+x),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(L=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var g=new RegExp(j(x),"g");if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return fe(null,t,M);if(typeof t[0]=="object")return fe(p||Object.keys(t[0]),t,M)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||p),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:typeof t.data[0]=="object"?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||typeof t.data[0]=="object"||(t.data=[t.data])),fe(t.fields||[],t.data||[],M);throw new Error("Unable to serialize unrecognized input");function fe(d,B,ie){var H="";typeof d=="string"&&(d=JSON.parse(d)),typeof B=="string"&&(B=JSON.parse(B));var ee=Array.isArray(d)&&0<d.length,Y=!Array.isArray(B[0]);if(ee&&n){for(var X=0;X<d.length;X++)0<X&&(H+=a),H+=te(d[X],X);0<B.length&&(H+=u)}for(var h=0;h<B.length;h++){var R=ee?d.length:B[h].length,q=!1,Z=ee?Object.keys(B[h]).length===0:B[h].length===0;if(ie&&!ee&&(q=ie==="greedy"?B[h].join("").trim()==="":B[h].length===1&&B[h][0].length===0),ie==="greedy"&&ee){for(var P=[],re=0;re<R;re++){var W=Y?d[re]:re;P.push(B[h][W])}q=P.join("").trim()===""}if(!q){for(var F=0;F<R;F++){0<F&&!Z&&(H+=a);var me=ee&&Y?d[F]:F;H+=te(B[h][me],F)}h<B.length-1&&(!ie||0<R&&!Z)&&(H+=u)}}return H}function te(d,B){if(d==null)return"";if(d.constructor===Date)return JSON.stringify(d).slice(1,25);var ie=!1;L&&typeof d=="string"&&L.test(d)&&(d="'"+d,ie=!0);var H=d.toString().replace(g,G);return(ie=ie||i===!0||typeof i=="function"&&i(d,B)||Array.isArray(i)&&i[B]||function(ee,Y){for(var X=0;X<Y.length;X++)if(-1<ee.indexOf(Y[X]))return!0;return!1}(H,l.BAD_DELIMITERS)||-1<H.indexOf(a)||H.charAt(0)===" "||H.charAt(H.length-1)===" ")?x+H+x:H}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!c&&!!o.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=T,l.ParserHandle=m,l.NetworkStreamer=v,l.FileStreamer=y,l.StringStreamer=b,l.ReadableStreamStreamer=k,o.jQuery){var C=o.jQuery;C.fn.parse=function(t){var e=t.config||{},i=[];return this.each(function(u){if(!(C(this).prop("tagName").toUpperCase()==="INPUT"&&C(this).attr("type").toLowerCase()==="file"&&o.FileReader)||!this.files||this.files.length===0)return!0;for(var x=0;x<this.files.length;x++)i.push({file:this.files[x],inputElem:this,instanceConfig:C.extend({},e)})}),n(),this;function n(){if(i.length!==0){var u,x,G,M,p=i[0];if(D(t.before)){var L=t.before(p.file,p.inputElem);if(typeof L=="object"){if(L.action==="abort")return u="AbortError",x=p.file,G=p.inputElem,M=L.reason,void(D(t.error)&&t.error({name:u},x,G,M));if(L.action==="skip")return void a();typeof L.config=="object"&&(p.instanceConfig=C.extend(p.instanceConfig,L.config))}else if(L==="skip")return void a()}var g=p.instanceConfig.complete;p.instanceConfig.complete=function(fe){D(g)&&g(fe,p.file,p.inputElem),a()},l.parse(p.file,p.instanceConfig)}else D(t.complete)&&t.complete()}function a(){i.splice(0,1),n()}}}function w(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var i=ne(e);i.chunkSize=parseInt(i.chunkSize),e.step||e.chunk||(i.chunkSize=null),this._handle=new m(i),(this._handle.streamer=this)._config=i}).call(this,t),this.parseChunk=function(e,i){if(this.isFirstChunk&&D(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(e);n!==void 0&&(e=n)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+e;this._partialLine="";var u=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var x=u.meta.cursor;this._finished||(this._partialLine=a.substring(x-this._baseIndex),this._baseIndex=x),u&&u.data&&(this._rowCount+=u.data.length);var G=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(z)o.postMessage({results:u,workerId:l.WORKER_ID,finished:G});else if(D(this._config.chunk)&&!i){if(this._config.chunk(u,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);u=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(u.data),this._completeResults.errors=this._completeResults.errors.concat(u.errors),this._completeResults.meta=u.meta),this._completed||!G||!D(this._config.complete)||u&&u.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),G||u&&u.meta.paused||this._nextChunk(),u}this._halted=!0},this._sendError=function(e){D(this._config.error)?this._config.error(e):z&&this._config.error&&o.postMessage({workerId:l.WORKER_ID,error:e,finished:!1})}}function v(t){var e;(t=t||{}).chunkSize||(t.chunkSize=l.RemoteChunkSize),w.call(this,t),this._nextChunk=c?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(i){this._input=i,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),c||(e.onload=I(this._chunkLoaded,this),e.onerror=I(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!c),this._config.downloadRequestHeaders){var i=this._config.downloadRequestHeaders;for(var n in i)e.setRequestHeader(n,i[n])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{e.send(this._config.downloadRequestBody)}catch(u){this._chunkError(u.message)}c&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(i){var n=i.getResponseHeader("Content-Range");return n===null?-1:parseInt(n.substring(n.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(i){var n=e.statusText||i;this._sendError(new Error(n))}}function y(t){var e,i;(t=t||{}).chunkSize||(t.chunkSize=l.LocalChunkSize),w.call(this,t);var n=typeof FileReader<"u";this.stream=function(a){this._input=a,i=a.slice||a.webkitSlice||a.mozSlice,n?((e=new FileReader).onload=I(this._chunkLoaded,this),e.onerror=I(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var a=this._input;if(this._config.chunkSize){var u=Math.min(this._start+this._config.chunkSize,this._input.size);a=i.call(a,this._start,u)}var x=e.readAsText(a,this._config.encoding);n||this._chunkLoaded({target:{result:x}})},this._chunkLoaded=function(a){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(a.target.result)},this._chunkError=function(){this._sendError(e.error)}}function b(t){var e;w.call(this,t=t||{}),this.stream=function(i){return e=i,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var i,n=this._config.chunkSize;return n?(i=e.substring(0,n),e=e.substring(n)):(i=e,e=""),this._finished=!e,this.parseChunk(i)}}}function k(t){w.call(this,t=t||{});var e=[],i=!0,n=!1;this.pause=function(){w.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){w.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(a){this._input=a,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):i=!0},this._streamData=I(function(a){try{e.push(typeof a=="string"?a:a.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(u){this._streamError(u)}},this),this._streamError=I(function(a){this._streamCleanUp(),this._sendError(a)},this),this._streamEnd=I(function(){this._streamCleanUp(),n=!0,this._streamData("")},this),this._streamCleanUp=I(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(t){var e,i,n,a=Math.pow(2,53),u=-a,x=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,M=this,p=0,L=0,g=!1,fe=!1,te=[],d={data:[],errors:[],meta:{}};if(D(t.step)){var B=t.step;t.step=function(h){if(d=h,ee())H();else{if(H(),d.data.length===0)return;p+=h.data.length,t.preview&&p>t.preview?i.abort():(d.data=d.data[0],B(d,M))}}}function ie(h){return t.skipEmptyLines==="greedy"?h.join("").trim()==="":h.length===1&&h[0].length===0}function H(){return d&&n&&(X("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),n=!1),t.skipEmptyLines&&(d.data=d.data.filter(function(h){return!ie(h)})),ee()&&function(){if(!d)return;function h(q,Z){D(t.transformHeader)&&(q=t.transformHeader(q,Z)),te.push(q)}if(Array.isArray(d.data[0])){for(var R=0;ee()&&R<d.data.length;R++)d.data[R].forEach(h);d.data.splice(0,1)}else d.data.forEach(h)}(),function(){if(!d||!t.header&&!t.dynamicTyping&&!t.transform)return d;function h(q,Z){var P,re=t.header?{}:[];for(P=0;P<q.length;P++){var W=P,F=q[P];t.header&&(W=P>=te.length?"__parsed_extra":te[P]),t.transform&&(F=t.transform(F,W)),F=Y(W,F),W==="__parsed_extra"?(re[W]=re[W]||[],re[W].push(F)):re[W]=F}return t.header&&(P>te.length?X("FieldMismatch","TooManyFields","Too many fields: expected "+te.length+" fields but parsed "+P,L+Z):P<te.length&&X("FieldMismatch","TooFewFields","Too few fields: expected "+te.length+" fields but parsed "+P,L+Z)),re}var R=1;return!d.data.length||Array.isArray(d.data[0])?(d.data=d.data.map(h),R=d.data.length):d.data=h(d.data,0),t.header&&d.meta&&(d.meta.fields=te),L+=R,d}()}function ee(){return t.header&&te.length===0}function Y(h,R){return q=h,t.dynamicTypingFunction&&t.dynamicTyping[q]===void 0&&(t.dynamicTyping[q]=t.dynamicTypingFunction(q)),(t.dynamicTyping[q]||t.dynamicTyping)===!0?R==="true"||R==="TRUE"||R!=="false"&&R!=="FALSE"&&(function(Z){if(x.test(Z)){var P=parseFloat(Z);if(u<P&&P<a)return!0}return!1}(R)?parseFloat(R):G.test(R)?new Date(R):R===""?null:R):R;var q}function X(h,R,q,Z){var P={type:h,code:R,message:q};Z!==void 0&&(P.row=Z),d.errors.push(P)}this.parse=function(h,R,q){var Z=t.quoteChar||'"';if(t.newline||(t.newline=function(W,F){W=W.substring(0,1048576);var me=new RegExp(j(F)+"([^]*?)"+j(F),"gm"),le=(W=W.replace(me,"")).split("\r"),he=W.split(`
`),_e=1<he.length&&he[0].length<le[0].length;if(le.length===1||_e)return`
`;for(var se=0,N=0;N<le.length;N++)le[N][0]===`
`&&se++;return se>=le.length/2?`\r
`:"\r"}(h,Z)),n=!1,t.delimiter)D(t.delimiter)&&(t.delimiter=t.delimiter(h),d.meta.delimiter=t.delimiter);else{var P=function(W,F,me,le,he){var _e,se,N,K;he=he||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var we=0;we<he.length;we++){var A=he[we],Ce=0,ge=0,ze=0;N=void 0;for(var ve=new T({comments:le,delimiter:A,newline:F,preview:10}).parse(W),ke=0;ke<ve.data.length;ke++)if(me&&ie(ve.data[ke]))ze++;else{var be=ve.data[ke].length;ge+=be,N!==void 0?0<be&&(Ce+=Math.abs(be-N),N=be):N=be}0<ve.data.length&&(ge/=ve.data.length-ze),(se===void 0||Ce<=se)&&(K===void 0||K<ge)&&1.99<ge&&(se=Ce,_e=A,K=ge)}return{successful:!!(t.delimiter=_e),bestDelimiter:_e}}(h,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);P.successful?t.delimiter=P.bestDelimiter:(n=!0,t.delimiter=l.DefaultDelimiter),d.meta.delimiter=t.delimiter}var re=ne(t);return t.preview&&t.header&&re.preview++,e=h,i=new T(re),d=i.parse(e,R,q),H(),g?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return g},this.pause=function(){g=!0,i.abort(),e=D(t.chunk)?"":e.substring(i.getCharIndex())},this.resume=function(){M.streamer._halted?(g=!1,M.streamer.parseChunk(e,!0)):setTimeout(M.resume,3)},this.aborted=function(){return fe},this.abort=function(){fe=!0,i.abort(),d.meta.aborted=!0,D(t.complete)&&t.complete(d),e=""}}function j(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(t){var e,i=(t=t||{}).delimiter,n=t.newline,a=t.comments,u=t.step,x=t.preview,G=t.fastMode,M=e=t.quoteChar===void 0||t.quoteChar===null?'"':t.quoteChar;if(t.escapeChar!==void 0&&(M=t.escapeChar),(typeof i!="string"||-1<l.BAD_DELIMITERS.indexOf(i))&&(i=","),a===i)throw new Error("Comment character same as delimiter");a===!0?a="#":(typeof a!="string"||-1<l.BAD_DELIMITERS.indexOf(a))&&(a=!1),n!==`
`&&n!=="\r"&&n!==`\r
`&&(n=`
`);var p=0,L=!1;this.parse=function(g,fe,te){if(typeof g!="string")throw new Error("Input must be a string");var d=g.length,B=i.length,ie=n.length,H=a.length,ee=D(u),Y=[],X=[],h=[],R=p=0;if(!g)return pe();if(t.header&&!fe){var q=g.split(n)[0].split(i),Z=[],P={},re=!1;for(var W in q){var F=q[W];D(t.transformHeader)&&(F=t.transformHeader(F,W));var me=F,le=P[F]||0;for(0<le&&(re=!0,me=F+"_"+le),P[F]=le+1;Z.includes(me);)me=me+"_"+le;Z.push(me)}if(re){var he=g.split(n);he[0]=Z.join(i),g=he.join(n)}}if(G||G!==!1&&g.indexOf(e)===-1){for(var _e=g.split(n),se=0;se<_e.length;se++){if(h=_e[se],p+=h.length,se!==_e.length-1)p+=n.length;else if(te)return pe();if(!a||h.substring(0,H)!==a){if(ee){if(Y=[],ze(h.split(i)),Oe(),L)return pe()}else ze(h.split(i));if(x&&x<=se)return Y=Y.slice(0,x),pe(!0)}}return pe()}for(var N=g.indexOf(i,p),K=g.indexOf(n,p),we=new RegExp(j(M)+j(e),"g"),A=g.indexOf(e,p);;)if(g[p]!==e)if(a&&h.length===0&&g.substring(p,p+H)===a){if(K===-1)return pe();p=K+ie,K=g.indexOf(n,p),N=g.indexOf(i,p)}else if(N!==-1&&(N<K||K===-1))h.push(g.substring(p,N)),p=N+B,N=g.indexOf(i,p);else{if(K===-1)break;if(h.push(g.substring(p,K)),be(K+ie),ee&&(Oe(),L))return pe();if(x&&Y.length>=x)return pe(!0)}else for(A=p,p++;;){if((A=g.indexOf(e,A+1))===-1)return te||X.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Y.length,index:p}),ke();if(A===d-1)return ke(g.substring(p,A).replace(we,e));if(e!==M||g[A+1]!==M){if(e===M||A===0||g[A-1]!==M){N!==-1&&N<A+1&&(N=g.indexOf(i,A+1)),K!==-1&&K<A+1&&(K=g.indexOf(n,A+1));var Ce=ve(K===-1?N:Math.min(N,K));if(g.substr(A+1+Ce,B)===i){h.push(g.substring(p,A).replace(we,e)),g[p=A+1+Ce+B]!==e&&(A=g.indexOf(e,p)),N=g.indexOf(i,p),K=g.indexOf(n,p);break}var ge=ve(K);if(g.substring(A+1+ge,A+1+ge+ie)===n){if(h.push(g.substring(p,A).replace(we,e)),be(A+1+ge+ie),N=g.indexOf(i,p),A=g.indexOf(e,p),ee&&(Oe(),L))return pe();if(x&&Y.length>=x)return pe(!0);break}X.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Y.length,index:p}),A++}}else A++}return ke();function ze(de){Y.push(de),R=p}function ve(de){var Be=0;if(de!==-1){var Ie=g.substring(A+1,de);Ie&&Ie.trim()===""&&(Be=Ie.length)}return Be}function ke(de){return te||(de===void 0&&(de=g.substring(p)),h.push(de),p=d,ze(h),ee&&Oe()),pe()}function be(de){p=de,ze(h),h=[],K=g.indexOf(n,p)}function pe(de){return{data:Y,errors:X,meta:{delimiter:i,linebreak:n,aborted:L,truncated:!!de,cursor:R+(fe||0)}}}function Oe(){u(pe()),Y=[],X=[]}},this.abort=function(){L=!0},this.getCharIndex=function(){return p}}function S(t){var e=t.data,i=f[e.workerId],n=!1;if(e.error)i.userError(e.error,e.file);else if(e.results&&e.results.data){var a={abort:function(){n=!0,J(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:U,resume:U};if(D(i.userStep)){for(var u=0;u<e.results.data.length&&(i.userStep({data:e.results.data[u],errors:e.results.errors,meta:e.results.meta},a),!n);u++);delete e.results}else D(i.userChunk)&&(i.userChunk(e.results,a,e.file),delete e.results)}e.finished&&!n&&J(e.workerId,e.results)}function J(t,e){var i=f[t];D(i.userComplete)&&i.userComplete(e),i.terminate(),delete f[t]}function U(){throw new Error("Not implemented.")}function ne(t){if(typeof t!="object"||t===null)return t;var e=Array.isArray(t)?[]:{};for(var i in t)e[i]=ne(t[i]);return e}function I(t,e){return function(){t.apply(e,arguments)}}function D(t){return typeof t=="function"}return z&&(o.onmessage=function(t){var e=t.data;if(l.WORKER_ID===void 0&&e&&(l.WORKER_ID=e.workerId),typeof e.input=="string")o.postMessage({workerId:l.WORKER_ID,results:l.parse(e.input,e.config),finished:!0});else if(o.File&&e.input instanceof File||e.input instanceof Object){var i=l.parse(e.input,e.config);i&&o.postMessage({workerId:l.WORKER_ID,results:i,finished:!0})}}),(v.prototype=Object.create(w.prototype)).constructor=v,(y.prototype=Object.create(w.prototype)).constructor=y,(b.prototype=Object.create(b.prototype)).constructor=b,(k.prototype=Object.create(w.prototype)).constructor=k,l})})(Xe);var ct=Xe.exports;const ut=st(ct),ft=[{id:"background-s",type:"background",paint:{"background-color":"white"}},{id:"earth",type:"fill",source:"protomaps","source-layer":"earth",paint:{"fill-color":"white"}},{id:"landuse_park",type:"fill",source:"protomaps","source-layer":"landuse",filter:["any",["in","pmap:kind","national_park","park","cemetery","protected_area","nature_reserve","forest","golf_course"]],paint:{"fill-color":"#e8f7cd"}},{id:"landuse_hospital",type:"fill",source:"protomaps","source-layer":"landuse",filter:["any",["==","pmap:kind","hospital"]],paint:{"fill-color":"#fcf9ed"}},{id:"landuse_industrial",type:"fill",source:"protomaps","source-layer":"landuse",filter:["any",["==","pmap:kind","industrial"]],paint:{"fill-color":"#fcf9ed"}},{id:"landuse_school",type:"fill",source:"protomaps","source-layer":"landuse",filter:["any",["in","pmap:kind","school","university","college"]],paint:{"fill-color":"#fcf9ed"}},{id:"landuse_beach",type:"fill",source:"protomaps","source-layer":"landuse",filter:["any",["in","pmap:kind","beach"]],paint:{"fill-color":"#fcf9ed"}},{id:"landuse_zoo",type:"fill",source:"protomaps","source-layer":"landuse",filter:["any",["in","pmap:kind","zoo"]],paint:{"fill-color":"#fcf9ed"}},{id:"landuse_military",type:"fill",source:"protomaps","source-layer":"landuse",filter:["any",["in","pmap:kind","military","naval_base","airfield"]],paint:{"fill-color":"#fcf9ed"}},{id:"natural_wood",type:"fill",source:"protomaps","source-layer":"natural",filter:["any",["in","pmap:kind","wood","nature_reserve","forest"]],paint:{"fill-color":"#e8f7cd"}},{id:"natural_scrub",type:"fill",source:"protomaps","source-layer":"natural",filter:["in","pmap:kind","scrub","grassland","grass"],paint:{"fill-color":"#e8f7cd"}},{id:"natural_glacier",type:"fill",source:"protomaps","source-layer":"natural",filter:["==","pmap:kind","glacier"],paint:{"fill-color":"#fcfcfc"}},{id:"natural_sand",type:"fill",source:"protomaps","source-layer":"natural",filter:["==","pmap:kind","sand"],paint:{"fill-color":"#fcf9ed"}},{id:"landuse_aerodrome",type:"fill",source:"protomaps","source-layer":"landuse",filter:["any",["in","pmap:kind","aerodrome"]],paint:{"fill-color":"#fcf9ed"}},{id:"transit_runway",type:"line",source:"protomaps","source-layer":"transit",filter:["any",["in","pmap:kind_detail","runway"]],paint:{"line-color":"#eaeae5","line-width":["interpolate",["exponential",1.6],["zoom"],2,0,12,4,18,30]}},{id:"transit_taxiway",type:"line",source:"protomaps","source-layer":"transit",minzoom:13,filter:["any",["in","pmap:kind_detail","taxiway"]],paint:{"line-color":"#d0d1c9","line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,15,6]}},{id:"water",type:"fill",source:"protomaps","source-layer":"water",paint:{"fill-color":"#e0f2f9"}},{id:"waterbody_border",type:"line",source:"protomaps","source-layer":"water",paint:{"line-color":"#6FC7EA","line-width":.5}},{id:"physical_line_stream",type:"line",source:"protomaps","source-layer":"physical_line",minzoom:14,filter:["all",["in","pmap:kind","stream"]],paint:{"line-color":"#e0f2f9","line-width":.5}},{id:"physical_line_river",type:"line",source:"protomaps","source-layer":"physical_line",minzoom:9,filter:["all",["in","pmap:kind","river"]],paint:{"line-color":"#e0f2f9","line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1,18,12]}},{id:"landuse_pedestrian",type:"fill",source:"protomaps","source-layer":"landuse",filter:["any",["==","pmap:kind","pedestrian"]],paint:{"fill-color":"#D0D1C9"}},{id:"landuse_pier",type:"fill",source:"protomaps","source-layer":"landuse",filter:["any",["==","pmap:kind","pier"]],paint:{"fill-color":"#D0D1C9"}},{id:"roads_tunnels_other_casing",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["<","pmap:level",0],["in","pmap:kind","other","path"]],paint:{"line-color":"#d0d1c9","line-gap-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_tunnels_minor_casing",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","minor_road"]],paint:{"line-color":"#fcfcfc","line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]}},{id:"roads_tunnels_link_casing",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:link",1]],paint:{"line-color":"#fcfcfc","line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]}},{id:"roads_tunnels_medium_casing",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","medium_road"]],paint:{"line-color":"#fcfcfc","line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],10,0,10.5,1]}},{id:"roads_tunnels_major_casing",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","major_road"]],paint:{"line-color":"#fcfcfc","line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]}},{id:"roads_tunnels_highway_casing",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","highway"],["!=","pmap:link",1]],paint:{"line-color":"#fcfcfc","line-dasharray":[6,.5],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1,20,15]}},{id:"roads_tunnels_other",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["<","pmap:level",0],["in","pmap:kind","other","path"]],paint:{"line-color":"#d0d1c9","line-dasharray":[4.5,.5],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_tunnels_minor",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","minor_road"]],paint:{"line-color":"#d0d1c9","line-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11]}},{id:"roads_tunnels_link",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:link",1]],paint:{"line-color":"#d0d1c9","line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11]}},{id:"roads_tunnels_medium",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","medium_road"]],paint:{"line-color":"#d0d1c9","line-width":["interpolate",["exponential",1.6],["zoom"],7,0,12,1.2,15,3,18,13]}},{id:"roads_tunnels_major",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","major_road"]],paint:{"line-color":"#d0d1c9","line-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13]}},{id:"roads_tunnels_highway",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","highway"],["!=","pmap:link",1]],paint:{"line-color":"#d0d1c9","line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,1.1,12,1.6,15,5,18,15]}},{id:"buildings",type:"fill",source:"protomaps","source-layer":"buildings",paint:{"fill-color":"#d0d1c9","fill-opacity":0}},{id:"transit_pier",type:"line",source:"protomaps","source-layer":"transit",filter:["any",["==","pmap:kind","pier"]],paint:{"line-color":"#d0d1c9","line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,.5,20,16]}},{id:"roads_minor_service_casing",type:"line",source:"protomaps","source-layer":"roads",minzoom:13,filter:["all",["==","pmap:level",0],["==","pmap:kind","minor_road"],["==","pmap:kind_detail","service"]],paint:{"line-color":"#ffffff","line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,18,8],"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,.8]}},{id:"roads_minor_casing",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","minor_road"],["!=","pmap:kind_detail","service"]],paint:{"line-color":"#d0d1c9","line-gap-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]}},{id:"roads_link_casing",type:"line",source:"protomaps","source-layer":"roads",minzoom:13,filter:["all",["==","pmap:link",1]],paint:{"line-color":"#d0d1c9","line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1.5]}},{id:"roads_medium_casing",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","medium_road"]],paint:{"line-color":"#ffffff","line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,12,1.2,15,3,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],10,0,10.5,1.5]}},{id:"roads_major_casing_late",type:"line",source:"protomaps","source-layer":"roads",minzoom:12,filter:["all",["==","pmap:level",0],["==","pmap:kind","major_road"]],paint:{"line-color":"#d0d1c9","line-gap-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]}},{id:"roads_highway_casing_late",type:"line",source:"protomaps","source-layer":"roads",minzoom:12,filter:["all",["==","pmap:level",0],["==","pmap:kind","highway"],["!=","pmap:link",1]],paint:{"line-color":"#d0d1c9","line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1,20,15]}},{id:"roads_other",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["==","pmap:level",0],["in","pmap:kind","other","path"]],paint:{"line-color":"#D0D1C9","line-dasharray":[3,1],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_link",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["==","pmap:link",1]],paint:{"line-color":"#ebebeb","line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11]}},{id:"roads_minor_service",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","minor_road"],["==","pmap:kind_detail","service"]],paint:{"line-color":"#D0D1C9","line-width":["interpolate",["exponential",1.6],["zoom"],13,0,18,8]}},{id:"roads_minor",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","minor_road"],["!=","pmap:kind_detail","service"]],paint:{"line-color":["interpolate",["exponential",1.6],["zoom"],11,"#ebebeb",16,"#D0D1C9"],"line-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11]}},{id:"roads_medium",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","medium_road"]],paint:{"line-color":"#ebebeb","line-width":["interpolate",["exponential",1.6],["zoom"],7,0,12,1.2,15,3,18,13]}},{id:"roads_major_casing_early",type:"line",source:"protomaps","source-layer":"roads",maxzoom:6,filter:["all",["==","pmap:level",0],["==","pmap:kind","major_road"]],paint:{"line-color":"#d0d1c9","line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]}},{id:"roads_major",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","major_road"]],paint:{"line-color":"#ebebeb","line-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13]}},{id:"roads_highway_casing_early",type:"line",source:"protomaps","source-layer":"roads",maxzoom:6,filter:["all",["==","pmap:level",0],["==","pmap:kind","highway"],["!=","pmap:link",1]],paint:{"line-color":"#d0d1c9","line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1]}},{id:"roads_highway",type:"line",source:"protomaps","source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","highway"],["!=","pmap:link",1]],paint:{"line-color":"#ebebeb","line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,1.1,12,1.6,15,5,18,15]}},{id:"transit_railway",type:"line",source:"protomaps","source-layer":"transit",filter:["all",["==","pmap:kind","rail"]],paint:{"line-dasharray":[.3,.75],"line-opacity":.5,"line-color":"#d0d1c9","line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,.15,18,9]}},{id:"boundaries_country",type:"line",source:"protomaps","source-layer":"boundaries",filter:["<=","pmap:min_admin_level",2],paint:{"line-color":"#adadad","line-width":1,"line-dasharray":[3,2]}},{id:"boundaries",type:"line",source:"protomaps","source-layer":"boundaries",filter:[">","pmap:min_admin_level",2],paint:{"line-color":"#adadad","line-width":1,"line-dasharray":[3,2]}},{id:"roads_bridges_other_casing",type:"line",source:"protomaps","source-layer":"roads",minzoom:12,filter:["all",[">","pmap:level",0],["in","pmap:kind","other","path"]],paint:{"line-color":"#d0d1c9","line-gap-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_bridges_link_casing",type:"line",source:"protomaps","source-layer":"roads",minzoom:12,filter:["all",[">","pmap:level",0],["==","pmap:link",1]],paint:{"line-color":"#d0d1c9","line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1.5]}},{id:"roads_bridges_minor_casing",type:"line",source:"protomaps","source-layer":"roads",minzoom:12,filter:["all",[">","pmap:level",0],["==","pmap:kind","minor_road"]],paint:{"line-color":"#d0d1c9","line-gap-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,.8]}},{id:"roads_bridges_medium_casing",type:"line",source:"protomaps","source-layer":"roads",minzoom:12,filter:["all",[">","pmap:level",0],["==","pmap:kind","medium_road"]],paint:{"line-color":"#d0d1c9","line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,12,1.2,15,3,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],10,0,10.5,1.5]}},{id:"roads_bridges_major_casing",type:"line",source:"protomaps","source-layer":"roads",minzoom:12,filter:["all",[">","pmap:level",0],["==","pmap:kind","major_road"]],paint:{"line-color":"#d0d1c9","line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,18,10],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1.5]}},{id:"roads_bridges_other",type:"line",source:"protomaps","source-layer":"roads",minzoom:12,filter:["all",[">","pmap:level",0],["in","pmap:kind","other","path"]],paint:{"line-color":"#D0D1C9","line-dasharray":[2,1],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_bridges_minor",type:"line",source:"protomaps","source-layer":"roads",minzoom:12,filter:["all",[">","pmap:level",0],["==","pmap:kind","minor_road"]],paint:{"line-color":"#D0D1C9","line-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11]}},{id:"roads_bridges_link",type:"line",source:"protomaps","source-layer":"roads",minzoom:12,filter:["all",[">","pmap:level",0],["==","pmap:link",1]],paint:{"line-color":"#D0D1C9","line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11]}},{id:"roads_bridges_medium",type:"line",source:"protomaps","source-layer":"roads",minzoom:12,filter:["all",[">","pmap:level",0],["==","pmap:kind","medium_road"]],paint:{"line-color":"#ebebeb","line-width":["interpolate",["exponential",1.6],["zoom"],7,0,12,1.2,15,3,18,13]}},{id:"roads_bridges_major",type:"line",source:"protomaps","source-layer":"roads",minzoom:12,filter:["all",[">","pmap:level",0],["==","pmap:kind","major_road"]],paint:{"line-color":"#ebebeb","line-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13]}},{id:"roads_bridges_highway_casing",type:"line",source:"protomaps","source-layer":"roads",minzoom:12,filter:["all",[">","pmap:level",0],["==","pmap:kind","highway"],["!=","pmap:link",1]],paint:{"line-color":"#d0d1c9","line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1,20,15]}},{id:"roads_bridges_highway",type:"line",source:"protomaps","source-layer":"roads",filter:["all",[">","pmap:level",0],["==","pmap:kind","highway"],["!=","pmap:link",1]],paint:{"line-color":"#ebebeb","line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,1.1,12,1.6,15,5,18,15]}},{id:"physical_line_waterway_label",type:"symbol",source:"protomaps","source-layer":"physical_line",minzoom:13,filter:["all",["in","pmap:kind","river","stream"]],layout:{"symbol-placement":"line","text-font":["TradeGothic LT Bold"],"text-field":["get","name"],"text-size":12,"text-letter-spacing":.3},paint:{"text-color":"#adadad"}},{id:"physical_point_peak",type:"symbol",source:"protomaps","source-layer":"physical_point",filter:["any",["==","pmap:kind","peak"]],layout:{"text-font":["TradeGothic LT Light Regular"],"text-field":["get","name"],"text-size":["interpolate",["linear"],["zoom"],10,8,16,12],"text-letter-spacing":.1,"text-max-width":9},paint:{"text-color":"#adadad","text-halo-width":1.5}},{id:"roads_labels_minor",type:"symbol",source:"protomaps","source-layer":"roads",minzoom:15,filter:["any",["in","pmap:kind","minor_road","other","path"]],layout:{"symbol-sort-key":["get","pmap:min_zoom"],"symbol-placement":"line","text-font":["TradeGothic LT Bold"],"text-field":["get","name"],"text-size":12},paint:{"text-color":"#adadad","text-halo-color":"#ffffff","text-halo-width":2}},{id:"physical_point_ocean",type:"symbol",source:"protomaps","source-layer":"physical_point",filter:["any",["in","pmap:kind","sea","ocean","lake","water","bay","strait","fjord"]],layout:{"text-font":["TradeGothic LT Regular"],"text-field":["get","name"],"text-size":["interpolate",["linear"],["zoom"],3,10,10,12],"text-letter-spacing":.1,"text-max-width":9,"text-transform":"uppercase"},paint:{"text-color":"#adadad"}},{id:"physical_point_lakes",type:"symbol",source:"protomaps","source-layer":"physical_point",filter:["any",["in","pmap:kind","lake","water"]],layout:{"text-font":["TradeGothic LT Regular"],"text-field":["get","name"],"text-size":["interpolate",["linear"],["zoom"],3,0,6,12,10,12],"text-letter-spacing":.1,"text-max-width":9},paint:{"text-color":"#adadad"}},{id:"roads_labels_major",type:"symbol",source:"protomaps","source-layer":"roads",minzoom:11.51,filter:["any",["in","pmap:kind","highway","major_road","medium_road"]],layout:{"symbol-sort-key":["get","pmap:min_zoom"],"symbol-placement":"line","text-font":["TradeGothic LT Bold"],"text-field":["get","name"],"text-size":12},paint:{"text-color":"#999999","text-halo-color":"#ffffff","text-halo-width":2}},{id:"places_subplace",type:"symbol",source:"protomaps","source-layer":"places",filter:["==","pmap:kind","neighbourhood"],layout:{"symbol-sort-key":["get","pmap:min_zoom"],"text-field":"{name}","text-font":["TradeGothic LT Bold"],"text-max-width":7,"text-letter-spacing":.1,"text-padding":["interpolate",["linear"],["zoom"],5,2,8,4,12,18,15,20],"text-size":["interpolate",["exponential",1.2],["zoom"],10,8,14,14,18,24],"text-transform":"uppercase"},paint:{"text-color":"#1E3765","text-halo-color":"#ffffff","text-halo-width":2,"text-opacity":.3}},{id:"pois_important",type:"symbol",source:"protomaps","source-layer":"pois",filter:["any",["<",["get","pmap:min_zoom"],13]],layout:{"symbol-sort-key":["get","pmap:min_zoom"],"text-font":["TradeGothic LT Bold"],"text-field":["get","name"],"text-size":11,"text-max-width":9,"icon-padding":["interpolate",["linear"],["zoom"],0,2,14,2,16,20,17,2,22,2]},paint:{"text-color":"#8f8f8f","text-halo-color":"#ffffff","text-halo-width":1.5,"text-opacity":0}},{id:"places_locality_circle",type:"circle",source:"protomaps","source-layer":"places",filter:["==","pmap:kind","locality"],paint:{"circle-radius":2,"circle-stroke-width":1.5,"circle-stroke-color":"#adadad","circle-color":"#ffffff","circle-translate":[-6,0]},minzoom:16},{id:"places_locality",type:"symbol",source:"protomaps","source-layer":"places",minzoom:9,filter:["==","pmap:kind","locality"],layout:{"text-field":"{name}","text-font":["case",["<=",["get","pmap:min_zoom"],5],["literal",["TradeGothic LT Bold"]],["literal",["TradeGothic LT Bold"]]],"text-padding":["interpolate",["linear"],["zoom"],5,3,8,7,12,11],"text-size":20,"icon-padding":["interpolate",["linear"],["zoom"],0,2,8,4,10,8,12,6,22,2],"text-anchor":["step",["zoom"],"left",8,"center"],"text-radial-offset":.2},paint:{"text-color":"#1E3765","text-halo-color":"#ffffff","text-halo-width":0,"text-opacity":.25}},{id:"places_region",type:"symbol",source:"protomaps","source-layer":"places",filter:["==","pmap:kind","region"],layout:{"symbol-sort-key":["get","pmap:min_zoom"],"text-field":["step",["zoom"],["get","name:short"],5,["get","name"]],"text-font":["TradeGothic LT Bold"],"text-size":["interpolate",["linear"],["zoom"],3,11,7,24],"text-radial-offset":.2,"text-anchor":"center","text-transform":"uppercase"},paint:{"text-color":"#b3b3b3","text-halo-color":"#ffffff","text-halo-width":2}},{id:"places_country",type:"symbol",source:"protomaps","source-layer":"places",filter:["==","pmap:kind","country"],layout:{"symbol-sort-key":["get","pmap:min_zoom"],"text-field":"{name}","text-font":["TradeGothic LT Regular"],"text-size":["interpolate",["linear"],["zoom"],2,["case",["<",["get","pmap:population_rank"],10],8,[">=",["get","pmap:population_rank"],10],12,0],6,["case",["<",["get","pmap:population_rank"],8],10,[">=",["get","pmap:population_rank"],8],18,0],8,["case",["<",["get","pmap:population_rank"],7],11,[">=",["get","pmap:population_rank"],7],20,0]],"icon-padding":["interpolate",["linear"],["zoom"],0,2,14,2,16,20,17,2,22,2],"text-transform":"uppercase"},paint:{"text-color":"#b8b8b8"}}],xe=Ye([]),Se=Ye(!1);function mt(_){let r;return{c(){r=$("div"),this.h()},l(s){r=Q(s,"DIV",{id:!0,class:!0}),oe(r).forEach(V),this.h()},h(){ae(r,"id","map"),ae(r,"class","svelte-f6jyty")},m(s,o){ye(s,r,o)},p:Ae,i:Ae,o:Ae,d(s){s&&V(r)}}}let ht="/toronto.pmtiles";function _t(_){let r,s=new Te.ScaleControl({maxWidth:100,unit:"metric"});const o=[[-79.7952,43.3915],[-79.0361,43.8934]];let c,z;return $e(async()=>{let f=new pt;Te.addProtocol("pmtiles",f.tile);const E=getComputedStyle(document.documentElement);c=E.getPropertyValue("--brandGray").trim(),z=E.getPropertyValue("--brandMedBlue").trim(),r=new Te.Map({container:"map",style:{version:8,name:"Empty",glyphs:"https://schoolofcities.github.io/fonts/fonts/{fontstack}/{range}.pbf",sources:{},layers:[{id:"background",type:"background",paint:{"background-color":"rgba(0,0,0,0)"}}]},center:[-79.4156,43.643],zoom:9.9349,maxZoom:16.5,minZoom:9,maxPitch:0,bearing:-17.1,projection:"globe",scrollZoom:!0,maxBounds:o,attributionControl:!0});const C=['<a href="https://openstreetmap.org">OpenStreetMap</a>','<a href="https://open.toronto.ca/">City of Toronto </a>'].join(", ");let w=ft;r.addControl(s,"bottom-left"),r.addControl(new Te.NavigationControl,"top-left"),r.dragRotate.disable(),r.doubleClickZoom.disable(),r.on("load",function(){r.addSource("protomaps",{type:"vector",url:"pmtiles://"+ht,attribution:C,attributionControl:!1}),w.forEach(b=>{r.addLayer(b)}),r.addSource("campus-locations",{type:"geojson",data:Me}),r.addLayer({id:"campus-points",type:"circle",source:"campus-locations",paint:{"circle-radius":8,"circle-color":"grey"}});function v(b){const k=b.reduce((m,j)=>(m[j]=z,m),{});b.length===0?r.setPaintProperty("campus-points","circle-color",c):r.setPaintProperty("campus-points","circle-color",["match",["get","Campus"],...Object.entries(k).flat(),c])}xe.subscribe(b=>{Pe(Se)?v(Me.features.map(k=>k.properties.Campus)):v(b)}),Se.subscribe(()=>{xe.subscribe(b=>{Pe(Se)?v(Me.features.map(k=>k.properties.Campus)):v(b)})()});const y=new Te.Popup({closeButton:!1,closeOnClick:!1});r.on("mouseenter","campus-points",b=>{r.getCanvas().style.cursor="pointer";const k=b.features[0].geometry.coordinates.slice(),{Campus:m,Address:j}=b.features[0].properties;y.setLngLat(k).setHTML(`<strong>${m}</strong><br>${j}`).addTo(r)}),r.on("mouseleave","campus-points",()=>{r.getCanvas().style.cursor="",y.remove()})}),r.on("click","campus-points",v=>{const y=v.features[0].properties.Campus,b=Pe(xe);if(b.includes(y)){const k=b.filter(m=>m!==y);xe.set(k)}else xe.set([...b,y])}),r.on("moveend",()=>{console.log("Map center:",r.getCenter()),console.log("Map zoom level:",r.getZoom()),console.log("Map Bounds:",r.getBounds())})}),[]}class gt extends Qe{constructor(r){super(),Ze(this,r,_t,mt,Ke,{})}}function Ue(_,r,s){const o=_.slice();return o[11]=r[s],o}function qe(_,r,s){const o=_.slice();return o[14]=r[s],o}function Ne(_,r,s){const o=_.slice();return o[17]=r[s],o}function Ge(_){let r,s,o,c,z,f=_[17].replace(/_/g," ")+"",E,l,C,w;return{c(){r=$("div"),s=$("input"),z=ce(),E=De(f),l=ce(),this.h()},l(v){r=Q(v,"DIV",{});var y=oe(r);s=Q(y,"INPUT",{type:!0}),z=ue(y),E=Le(y,f),l=ue(y),y.forEach(V),this.h()},h(){ae(s,"type","checkbox"),s.value=o=_[17],s.checked=c=_[4].has(_[17])},m(v,y){ye(v,r,y),O(r,s),O(r,z),O(r,E),O(r,l),C||(w=Je(s,"change",_[6]),C=!0)},p(v,y){y&2&&o!==(o=v[17])&&(s.value=o),y&2&&c!==(c=v[4].has(v[17]))&&(s.checked=c),y&2&&f!==(f=v[17].replace(/_/g," ")+"")&&Re(E,f)},d(v){v&&V(r),C=!1,w()}}}function He(_){let r,s,o,c,z,f=_[14]+"",E,l,C,w;return{c(){r=$("div"),s=$("input"),z=ce(),E=De(f),l=ce(),this.h()},l(v){r=Q(v,"DIV",{});var y=oe(r);s=Q(y,"INPUT",{type:!0}),z=ue(y),E=Le(y,f),l=ue(y),y.forEach(V),this.h()},h(){ae(s,"type","checkbox"),s.value=o=_[14],s.checked=c=_[3].includes(_[14])},m(v,y){ye(v,r,y),O(r,s),O(r,z),O(r,E),O(r,l),C||(w=Je(s,"change",_[5]),C=!0)},p(v,y){y&1&&o!==(o=v[14])&&(s.value=o),y&9&&c!==(c=v[3].includes(v[14]))&&(s.checked=c),y&1&&f!==(f=v[14]+"")&&Re(E,f)},d(v){v&&V(r),C=!1,w()}}}function yt(_){let r,s='<li class="svelte-kbhgzf"><strong>No programs found</strong><br/></li>';return{c(){r=$("ul"),r.innerHTML=s,this.h()},l(o){r=Q(o,"UL",{class:!0,"data-svelte-h":!0}),Fe(r)!=="svelte-1w0wtwl"&&(r.innerHTML=s),this.h()},h(){ae(r,"class","program-list svelte-kbhgzf")},m(o,c){ye(o,r,c)},p:Ae,d(o){o&&V(r)}}}function vt(_){let r,s=Ee(_[2]),o=[];for(let c=0;c<s.length;c+=1)o[c]=Ve(Ue(_,s,c));return{c(){r=$("ul");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){r=Q(c,"UL",{class:!0});var z=oe(r);for(let f=0;f<o.length;f+=1)o[f].l(z);z.forEach(V),this.h()},h(){ae(r,"class","program-list svelte-kbhgzf")},m(c,z){ye(c,r,z);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(r,null)},p(c,z){if(z&4){s=Ee(c[2]);let f;for(f=0;f<s.length;f+=1){const E=Ue(c,s,f);o[f]?o[f].p(E,z):(o[f]=Ve(E),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=s.length}},d(c){c&&V(r),je(o,c)}}}function Ve(_){let r,s,o=_[11]["Program Name"]+"",c,z,f,E=_[11].Division+"",l,C,w,v=_[11].Campus+"",y,b;return{c(){r=$("li"),s=$("strong"),c=De(o),z=$("br"),f=ce(),l=De(E),C=$("br"),w=ce(),y=De(v),b=ce(),this.h()},l(k){r=Q(k,"LI",{class:!0});var m=oe(r);s=Q(m,"STRONG",{});var j=oe(s);c=Le(j,o),j.forEach(V),z=Q(m,"BR",{}),f=ue(m),l=Le(m,E),C=Q(m,"BR",{}),w=ue(m),y=Le(m,v),b=ue(m),m.forEach(V),this.h()},h(){ae(r,"class","svelte-kbhgzf")},m(k,m){ye(k,r,m),O(r,s),O(s,c),O(r,z),O(r,f),O(r,l),O(r,C),O(r,w),O(r,y),O(r,b)},p(k,m){m&4&&o!==(o=k[11]["Program Name"]+"")&&Re(c,o),m&4&&E!==(E=k[11].Division+"")&&Re(l,E),m&4&&v!==(v=k[11].Campus+"")&&Re(y,v)},d(k){k&&V(r)}}}function kt(_){let r,s,o,c,z="Type of Program",f,E,l,C,w,v="Campus",y,b,k,m,j,T,S,J=Ee(_[1]),U=[];for(let i=0;i<J.length;i+=1)U[i]=Ge(Ne(_,J,i));let ne=Ee(_[0]),I=[];for(let i=0;i<ne.length;i+=1)I[i]=He(qe(_,ne,i));function D(i,n){return i[2].length>0?vt:yt}let t=D(_),e=t(_);return T=new gt({}),{c(){r=$("div"),s=$("div"),o=$("div"),c=$("label"),c.textContent=z,f=ce();for(let i=0;i<U.length;i+=1)U[i].c();E=ce(),l=$("div"),C=$("div"),w=$("label"),w.textContent=v,y=ce(),b=$("div");for(let i=0;i<I.length;i+=1)I[i].c();k=ce(),m=$("div"),e.c(),j=ce(),tt(T.$$.fragment),this.h()},l(i){r=Q(i,"DIV",{class:!0});var n=oe(r);s=Q(n,"DIV",{class:!0});var a=oe(s);o=Q(a,"DIV",{class:!0});var u=oe(o);c=Q(u,"LABEL",{class:!0,"data-svelte-h":!0}),Fe(c)!=="svelte-d0tgr9"&&(c.textContent=z),f=ue(u);for(let L=0;L<U.length;L+=1)U[L].l(u);u.forEach(V),a.forEach(V),E=ue(n),l=Q(n,"DIV",{class:!0});var x=oe(l);C=Q(x,"DIV",{class:!0});var G=oe(C);w=Q(G,"LABEL",{class:!0,"data-svelte-h":!0}),Fe(w)!=="svelte-qtvyv3"&&(w.textContent=v),y=ue(G),b=Q(G,"DIV",{class:!0});var M=oe(b);for(let L=0;L<I.length;L+=1)I[L].l(M);M.forEach(V),G.forEach(V),x.forEach(V),n.forEach(V),k=ue(i),m=Q(i,"DIV",{class:!0});var p=oe(m);e.l(p),j=ue(p),it(T.$$.fragment,p),p.forEach(V),this.h()},h(){ae(c,"class","svelte-kbhgzf"),ae(o,"class","filter svelte-kbhgzf"),ae(s,"class","program svelte-kbhgzf"),ae(w,"class","svelte-kbhgzf"),ae(b,"class","campus-filters svelte-kbhgzf"),ae(C,"class","filter svelte-kbhgzf"),ae(l,"class","campus svelte-kbhgzf"),ae(r,"class","filters-container svelte-kbhgzf"),ae(m,"class","container svelte-kbhgzf")},m(i,n){ye(i,r,n),O(r,s),O(s,o),O(o,c),O(o,f);for(let a=0;a<U.length;a+=1)U[a]&&U[a].m(o,null);O(r,E),O(r,l),O(l,C),O(C,w),O(C,y),O(C,b);for(let a=0;a<I.length;a+=1)I[a]&&I[a].m(b,null);ye(i,k,n),ye(i,m,n),e.m(m,null),O(m,j),rt(T,m,null),S=!0},p(i,[n]){if(n&82){J=Ee(i[1]);let a;for(a=0;a<J.length;a+=1){const u=Ne(i,J,a);U[a]?U[a].p(u,n):(U[a]=Ge(u),U[a].c(),U[a].m(o,null))}for(;a<U.length;a+=1)U[a].d(1);U.length=J.length}if(n&41){ne=Ee(i[0]);let a;for(a=0;a<ne.length;a+=1){const u=qe(i,ne,a);I[a]?I[a].p(u,n):(I[a]=He(u),I[a].c(),I[a].m(b,null))}for(;a<I.length;a+=1)I[a].d(1);I.length=ne.length}t===(t=D(i))&&e?e.p(i,n):(e.d(1),e=t(i),e&&(e.c(),e.m(m,j)))},i(i){S||(at(T.$$.fragment,i),S=!0)},o(i){ot(T.$$.fragment,i),S=!1},d(i){i&&(V(r),V(k),V(m)),je(U,i),je(I,i),e.d(),nt(T)}}}let We="Program Name";function bt(_,r,s){let o;et(_,xe,k=>s(7,o=k));let c=[],z=[],f=[],E=[],l=new Set,C=[],w=[];$e(async()=>{fetch("/src/data/access_programs_inventory.csv").then(m=>m.text()).then(m=>{ut.parse(m,{header:!0,complete:j=>{c=j.data;const T=new Map;j.data.forEach(S=>{if(S.Campus&&S.Longitude&&S.Latitude){const J=S.Campus.trim();T.has(J)||T.set(J,{longitude:parseFloat(S.Longitude),latitude:parseFloat(S.Latitude)})}}),z=Array.from(T,([S,J])=>({campus:S,...J})),s(0,f=z.map(S=>S.campus).sort()),s(1,E=[...new Set(j.data.map(S=>S["Type of Program"]).filter(S=>S!=="Outreach & Engagement: Awareness_Career Exploration_Academic Supports; Access: Bridging_Transition_Pre-programs"))].sort()),b()}})})});function v(k){const m=k.target.value;o.includes(m)?(xe.update(T=>T.filter(S=>S!==m)),m==="Tri-campus"&&Se.set(!1)):(xe.update(T=>[...T,m]),m==="Tri-campus"&&Se.set(!0))}function y(k){const m=k.target.value;k.target.checked?l.add(m):l.delete(m),b()}function b(){const k=new Set(w),j=f.filter(T=>T!=="Tri-campus").every(T=>k.has(T));s(2,C=c.filter(T=>{const S=T["Type of Program"],J=Array.from(l).some(ne=>S.includes(ne)||S.includes("Outreach & Engagement: Awareness_Career Exploration_Academic Supports; Access: Bridging_Transition_Pre-programs"));return(k.size===0||k.has(T.Campus)||j&&T.Campus==="Tri-campus")&&(l.size===0||J)}).sort((T,S)=>{const J=T[We]||"",U=S[We]||"";return J.localeCompare(U)}))}return _.$$.update=()=>{_.$$.dirty&128&&(s(3,w=o),b())},[f,E,C,w,l,v,y,o]}class Tt extends Qe{constructor(r){super(),Ze(this,r,bt,kt,Ke,{})}}export{Tt as component,Et as universal};
